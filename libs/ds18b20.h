/*
 * ds18b20.h
 *
 *  Created on: 2 de mai de 2021
 *      Author: marco
 */

#ifndef LIBS_DS18B20_H_
#define LIBS_DS18B20_H_

//===========================================================================
/*------------------------------- Includes --------------------------------*/
//===========================================================================
#include <stdint.h>

//===========================================================================

//===========================================================================
/*------------------------------ Definitions ------------------------------*/
//===========================================================================
/* Error codes */
#define DS18B20_ERR_1W_INIT		-0x01 /** Failed to initialize the 1-wire lib. */
#define DS18B20_ERR_RESET		-0x02 /** Reset command failed. */
#define DS18B20_ERR_WRITE		-0x03 /** Write command failed. */
#define DS18B20_ERR_READ		-0x04 /** Read command failed. */
#define DS18B20_ERR_READ_CRC	-0x05 /** CRC does not match. */
#define DS18B20_ERR_WRITE_SP	-0x06 /** Data read from SP does not match data written. */

//===========================================================================

//===========================================================================
/*------------------------------- Functions -------------------------------*/
//===========================================================================
//---------------------------------------------------------------------------
int32_t ds18b20Initialize(void *gpio, uint8_t pin);
//---------------------------------------------------------------------------
int32_t ds18b20ReadROM(uint8_t *buffer, uint32_t to);
//---------------------------------------------------------------------------
int32_t ds18b20ReadSP(uint8_t *buffer, uint32_t to);
//---------------------------------------------------------------------------
int32_t ds18b20WriteSP(uint8_t *buffer, uint32_t to);
//---------------------------------------------------------------------------
int32_t ds18b20SkipROM(uint32_t to);
//---------------------------------------------------------------------------
int32_t ds18b20ReadTemp(uint16_t *dez, uint16_t *dec, uint32_t to);
//---------------------------------------------------------------------------
//===========================================================================


#endif /* LIBS_DS18B20_H_ */
